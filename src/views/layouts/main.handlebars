<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Productos en tiempo real</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    ul { list-style: none; padding: 0; display: flex; flex-wrap: wrap; gap: 1rem; }
    li { border: 1px solid #ccc; padding: 1rem; width: 250px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); }
    img { max-width: 100%; height: auto; margin-bottom: 0.5rem; }
    button { margin-top: 0.5rem; cursor: pointer; padding: 0.4rem 0.8rem; }
    input { margin-top: 0.5rem; padding: 0.3rem; width: 60px; }
    #cart-count { font-weight: bold; color: green; margin-left: 0.5rem; }
  </style>
</head>
<body>
   {{{body}}}
  
  <ul>
    {{#each products}}
      <li>
        {{#if this.thumbnail}}
          <div>
            <img src="/images/{{this.thumbnail}}" alt="{{this.title}}" style="max-width:100%;height:150px;object-fit:cover;" />
          </div>
        {{/if}}

        <strong>{{this.title}}</strong><br />
        <em>{{this.description}}</em><br />
        <span>Precio: ${{this.price}}</span><br />
        <span>Stock disponible: {{this.stock}}</span><br />

        <input 
          type="number" 
          id="qty-{{this._id}}" 
          min="1" 
          max="{{this.stock}}" 
          value="1" 
        />
        <button 
          class="add-to-cart-btn" 
          data-pid="{{this._id}}" 
          data-stock="{{this.stock}}"
        >
          Agregar al carrito
        </button>
      </li>
    {{/each}}
  </ul>
</body>
</html>


